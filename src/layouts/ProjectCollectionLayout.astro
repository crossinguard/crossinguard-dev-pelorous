---
import BaseLayout from "./BaseLayout.astro";
import GridProjects from "../components/projects/GridProjects.astro";
import {
    projectCollections,
    type ProjectCollectionKey,
} from "../data/projectCollections";

interface Props {
    collectionKey: ProjectCollectionKey;
    layout?: string;
    dataLayout?: string;
}

const { collectionKey, layout, dataLayout } = Astro.props;
const config = projectCollections[collectionKey];

const breadcrumbs = [
    { text: "Projects", href: "/projects" },
    { text: config.name, href: `/projects/${config.path}` },
];
---

<BaseLayout
    title={`${config.name} Projects`}
    description={config.description}
    showBreadcrumbs={true}
    breadcrumbs={breadcrumbs}
    breadcrumbIcon="ph:gear"
    breadcrumbText="Projects"
>
    <section class="section flow">
        <h2>{config.name}</h2>
        <p>{config.description}</p>
        <GridProjects
            collection={collectionKey}
            layout={layout}
            data-layout={dataLayout}
        />
    </section>
</BaseLayout>
